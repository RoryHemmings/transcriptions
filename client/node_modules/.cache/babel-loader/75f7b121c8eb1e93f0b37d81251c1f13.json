{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\RPMHe\\\\Desktop\\\\Programing\\\\Web\\\\transcriptions\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nexport default class Login extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      error: false\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  async onSubmit(event) {\n    event.preventDefault();\n    const data = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    const r = await fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }); // Because apparently .json() is async.\n\n    /* Developers who wrote the fetch function - \"Yeah lets just make a function that doesn't \r\n     need to by async, async just because it usually goes with other async requests or something. It definately won't make \r\n     some kid get stuck for 45 minutes trying to figure out why calling .json() on an response object \r\n     for some reason causes await to fail\" */\n\n    const res = await r.json();\n    if (res.successful) window.location.href = \"/\";else this.setState({\n      error: res.message\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container login col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 6\n      }\n    }, \"Log in\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Username\",\n      required: true,\n      value: this.state.username,\n      onChange: e => this.setState({\n        username: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      className: \"form-control\",\n      type: \"password\",\n      placeholder: \"Password\",\n      required: true,\n      value: this.state.password,\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }\n    }, \"Log in\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }\n    }, \"or \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, \"Register Instead\")));\n  }\n\n}","map":{"version":3,"sources":["D:/Users/RPMHe/Desktop/Programing/Web/transcriptions/client/src/components/Login.js"],"names":["React","Component","Link","Login","constructor","props","state","username","password","error","onSubmit","bind","event","preventDefault","data","r","fetch","method","headers","body","JSON","stringify","res","json","successful","window","location","href","setState","message","render","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Login extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tusername: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\terror: false,\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t}\r\n\r\n\tasync onSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password,\r\n\t\t};\r\n\r\n\t\tconst r = await fetch(\"/login\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t});\r\n\r\n\t\t// Because apparently .json() is async.\r\n\t\t/* Developers who wrote the fetch function - \"Yeah lets just make a function that doesn't \r\n\t\t need to by async, async just because it usually goes with other async requests or something. It definately won't make \r\n\t\t some kid get stuck for 45 minutes trying to figure out why calling .json() on an response object \r\n\t\t for some reason causes await to fail\" */\r\n\t\tconst res = await r.json();\r\n\r\n\t\tif (res.successful) window.location.href = \"/\";\r\n\t\telse this.setState({ error: res.message });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container login col-md-2\">\r\n\t\t\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t\t\t<h1>Log in</h1>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\t\tonChange={(e) => this.setState({ username: e.target.value })}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\tonChange={(e) => this.setState({ password: e.target.value })}\r\n\t\t\t\t\t\t></input>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">\r\n\t\t\t\t\t\tLog in\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<p className=\"text-muted\">\r\n\t\t\t\t\tor <Link to=\"/register\">Register Instead</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}